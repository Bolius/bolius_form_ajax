"use strict";var BoliusAjaxForm=function(e){if("function"==typeof fetch&&"function"==typeof FormData){var t=e.split("-"),o=parseInt(t[1]),i=document.getElementById("c"+o);if(i){var c="loading-form",a=i.querySelector("form"),u=document.createElement("div"),s=function(){a=i.querySelector("form"),n(a.querySelector(".previous"))},n=function(e){if(e){var t=e.querySelector("button");t.removeAttribute("onclick"),t.addEventListener("click",function(e){var t=document.createEvent("Event");t.initEvent("submit",!1,!0),e.target.closest("form").dispatchEvent(t)})}},r=function(e){var t=e.submitter;if(!(t&&t.parentElement&&t.parentElement.classList.contains("submit"))){e.preventDefault(),i.classList.add(c);var n=new FormData(this);t&&n.append(t.name,t.value),n.append("form_ce_uid",o);var r=e.target.action.split("?");r.splice(1,0,"?type=1610006384&"),fetch(r.join(""),{method:"POST",body:n}).then(function(e){return e.text()}).then(function(e){i.classList.remove(c),u.innerHTML=e;var t=u.querySelector("#"+a.id);a.innerHTML=t.innerHTML,function(e){var t=new Event("reload");console.log("Emitting an event",t),e.addEventListener("reload",function(e){console.log(e)},!1),e.dispatchEvent(t)}(a),s()}).catch(function(e){console.log(e)})}};return function(){document.body.append(u);var e=document.createElement("div");e.classList.add("loader"),i.append(e),n(a.querySelector(".previous")),a.addEventListener("submit",r)}(),{refresh:s}}}};